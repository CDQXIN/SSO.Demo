@{
    ViewData["Title"] = "添加用户";
    Layout = null;
}
@using SSO.Demo.Toolkits.Extension
@using SSO.Demo.Web1.Model.User
@using InputType = SSO.Demo.Toolkits.Extension.InputType
@model UserParams
<div class="site-demo site-demo-body">
    <div class="layui-main" style="width: 350px">
        <form class="layui-form layui-form-pane" method="post" action="/User/Add">
            @Html.HiddenFor(a => a.UserId)
            <div class="layui-form-item">
                <label class="layui-form-label">用户名</label>
                <div class="layui-input-inline">
                    @Html.LayerUiEditorFor(a => a.UserName, "请输入用户名", require: true)
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">密码</label>
                <div class="layui-input-inline">
                    @Html.LayerUiEditorFor(a => a.Password, "请输入密码", InputType.password, true)
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">性别</label>
                <div class="layui-input-inline">
                    <input name="sex" value="男" title="男" checked="" type="radio">
                    <input name="sex" value="女" title="女" type="radio">
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">创建时间</label>
                <div class="layui-input-inline">
                    <datetimepicker asp-for="CreateDateTime" placeholder="创建时间" />
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">省份</label>
                <div class="layui-input-inline">
                    <select name="quiz1">
                        <option value="">请选择省</option>
                        <option value="浙江" selected="">浙江省</option>
                        <option value="你的工号">江西省</option>
                        <option value="你最喜欢的老师">福建省</option>
                    </select>
                </div>
            </div>
            <div class="layui-form-item">
                <div class="layui-input-block">
                    <button class="layui-btn" lay-submit="" lay-filter="demo1">立即提交</button>
                </div>
            </div>
        </form>
    </div>
</div>


<script>
    layui.use(['form'], function () {
        var form = layui.form, layer = layui.layer;

        //监听提交
        form.on('submit(demo1)', function (data) {
            layer.confirm('是否确认提交？',
                function (confirmIndex) {
                    $.post("/user/add",
                        data.field,
                        function (result) {
                            if (result.success) {
                                layer.close(confirmIndex);
                                layer.msg(result.message);

                                layer.closeAll();
                            } else
                                layer.msg(result.message);
                        });
                });
            return false;
        });

        form.render();
    });
</script>
